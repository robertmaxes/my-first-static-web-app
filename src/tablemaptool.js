(()=>{var t,e,n,a,o,i,r,d,l={},c={},u="https://script.google.com/macros/s/AKfycbx8jziXlcOJqZr6N7drNbDVdNawMdnepr22jzlx8uY/dev",s=window.__pz__;function m(a,r){for(var s=[],p=!1,b=a;0==p;)s.unshift(b),l[b].parent?b=l[b].parent:p=!0;var h="";s.forEach((function(n,a){""!=l[n].me.text&&(h+=function(n,a){let o=t[a],i=l[n].me.text;return i=""==i?"("+e+")":i,e=t[a+1],"<input draggable='true' class='btn btn-primary off hclickablebutt' data-toggle='tooltip' data-placement='bottom' title='"+o+"' type='button' data-a1code="+n+" value='"+i+"' />"}(n,a))})),h+="<div style='font-size:20px; position:relative; top:0px'>"+t[s.length]+":";var v=[],f="";if(l[a].children.length>0){v=l[a].children;var y=a[0]==d;y&&(h+="<table style='width:1250px'>");var x=!0;v.forEach((function(t){""!=l[t].me.text?(f="",x=!1):f=t,h+=""+function(t,n){var a=l[t].me.text,o=""==a;a=o?"("+e+")":a,explanatoryText=o?"&nbsp;&nbsp;&nbsp;("+e+" not specified in orginal curriculum) ":"";var i="";if(n){var r=l[t].children[0],d=(l[r],i=l[r].me.text,t+"id");return"<tr><td width='200px' ><button draggable='true' data-a1code="+t+" class='btn btn-outline-primary openmodalbutt'   style='margin-top:5px width:250px; top:-2px' >"+a+"...</button></button></td><td width='115px' id='svgbarcell_"+t+"' >"+g(a)+"</td><td width='1000px' style='padding-left:20px'><div class='rounddiv' style='display:block; margin-top:1px' id=\""+d+'" >'+i+"</div></td></tr>"}return"<input draggable='true' class='btn btn-outline-primary vclickablebutt' data-a1code="+t+" type='button' style='margin-top:3px' value='"+a+"' />"+explanatoryText}(t,y)})),h+="</div>"}y&&(h+="</table>"),document.getElementById("tv_mainContent")&&(document.getElementById("tv_mainContent").innerHTML=h,$(".hclickablebutt,.vclickablebutt").click((function(t){t.stopImmediatePropagation(),m(this.dataset.a1code)})),$(".openmodalbutt").click((function(t){t.stopImmediatePropagation(),function(t){$("#completenessModal").modal();var e=document.getElementById("modaltitle"),a=document.getElementById("elabdesc"),r=document.getElementById("stddesc"),d=document.getElementById("a1code");let s=document.getElementById("copyrightdesc");var m=l[t].me.text,p=l[t].children[0],b=l[p],h=l[p].me.text,v=l[b.children[0]].me.text;e.innerHTML="Outcome : "+m,r.innerHTML=h,d.innerHTML=t,s.innerHTML=" <p> The Victorian Curriculum F-10 content elements are<strong>&nbsp;&copy; </strong>VCAA, licensed <a target='_blank' href='https://creativecommons.org/licenses/by-nc-sa/3.0/au/legalcode'>CC-BY-NC-SA</a><strong>. </strong>The <a target='_blank' href='https://victoriancurriculum.vcaa.vic.edu.au/copyright-statement'>Victorian Curriculum&nbsp; F-10</a> and related content can be accessed directly at the <a target='_blank' href='http://www.vcaa.vic.edu.au/'>VCAA website</a>.</p>";var f=v.split(":^:");n=f.length,v="";let y,x="";c[m]&&c[m].e&&(y=c[m].e),f.forEach((function(t,e){y&&(x=Number(y[e])?" checked ":""),v+="<input type='checkbox' class='cb' id='cb"+e+"' data-this="+this+" data-ncb='"+n+"' "+x+" >"+t+"<br>"})),v+="",a.innerHTML=v,$(".cb").click((function(t){t.stopImmediatePropagation(),function(t){cb=$("#"+t);let e=Number(cb.prop("dataset").ncb),n=0;for(var a=0;a<e;a++)$("#cb"+a).prop("checked")&&n++;let o=Math.round(100*n/e);document.getElementById("sliderRange").value=o,document.getElementById("coverage").innerHTML=o+"%"}($(this).attr("id"))}));let k=document.getElementById("sliderRange"),w=document.getElementById("coverage");c[m]?(sv=c[m].v?c[m].t:c[m],k.value=Number(sv)):k.value=0,w.innerHTML=k.value+"%",$("#savebtn").click((function(t){t.stopImmediatePropagation(),function(){var t=document.getElementById("a1code").innerHTML,e=document.getElementById("sliderRange").value,a=(l[t],l[t].me.text);let r="";for(var d=0;d<n;d++)$("#cb"+d).prop("checked")?r+="1":r+="0";console.log("storing "),c[a]={t:Number(e),e:r,v:"a"},$("#completenessModal").modal("hide"),function(t){$.getJSON(u+"?callback=?",{method:"microCoverage",progid:o,auditdetail:JSON.stringify(t),uid:i},(function(t){var e;e=t,console.log(e)}))}(c),document.getElementById("svgbarcell_"+t).innerHTML=g(a)}()}))}(this.dataset.a1code)})),$('[data-toggle="tooltip"]').tooltip("dispose")),x&&m(f)}function g(t){var e;return(e=c[t]&&c[t].v?Number(c[t].t)>0?Number(c[t].t):0:Number(c[t])>0?Number(c[t]):0)>0?"<svg width='100' height='10'><rect  width='100' height='10' style='fill:rgb(255,255,255);stroke-width:3;stroke:rgb(0,0,0)' /><rect  width='"+e+"' height='10' style='fill:rgb(0,123,255);stroke-width:3;stroke:rgb(0,0,0)' /></svg> ":""}function p(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function b(){return!$("#mainBody").length}function h(t,e){let n=document.createElement(e);return t.appendChild(n),n}window.__pz__&&(b()&&(console.log("oh no - shouldn't execute this \n \n !! \n !!"),a=p("a1code"),i=p("uid")),b()||(a=s.a1code,o=s.progid,i=s.uid),document.getElementById("tv_mainContent")&&(document.getElementById("tv_mainContent").innerHTML="<span style=' position:relative; left:150px; top:150px'><h3> Loading Mapping Tool ..</h3></span>",$.getJSON(u+"?callback=?",{method:"deserialize",progid:o,uid:i},(function(e){var n;l=(n=e).v1,c=n.v2,t=n.v3,r=t.length-1,d=String.fromCharCode(r+64),t.unshift("__"),m(a)})))),$("#tv_mainContent").draggable(),$("#tab1").draggable(),function(){console.log("div",div);let t=h(div,"table");t.setAttribute("id","t1"),$("#t1").draggable();let e=h(t,"tr");h(e,"td").innerHTML="Hi there!"}()})();