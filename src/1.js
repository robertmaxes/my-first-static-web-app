(()=>{console.log("*params in 1.js*",l);var e,t,n,o,a,i,c={},r={},d="https://script.google.com/macros/s/AKfycbwZoS_mHR9C7J0DPw_x3Im3RbZCsLE1v8-nIh1L7aycTqGLLMx57w5dxKwKcsZR62y1/exec",l=window.__pz__;function s(n,a){for(var l=[],m=!1,p=n;0==m;)l.unshift(p),c[p].parent?p=c[p].parent:m=!0;var g="";l.forEach((function(t,n){g+=function(t,n){let o=["__","Learning Area","Subject","Level","Strand","Substrand","CdCode"],a=o[n],i=c[t].me.text;return i=""==i?"("+e+")":i,e=o[n+1],"<input class='btn btn-primary off hclickablebutt' data-toggle='tooltip' data-placement='bottom' title='"+a+"' type='button' data-a1code="+t+" value='"+i+"' />"}(t,n)})),g+="<br><br><div style='font-size:20px; position:relative; top:20px'> Select a "+e+"</div><br>";var b=[];if(c[n].children.length>0){b=c[n].children;var h="E"==n[0];h&&(g+="<table style='width:1250px'>"),b.forEach((function(t){g+="&nbsp;&nbsp;"+function(t,n){var o=c[t].me.text,a=""==o;o=a?"("+e+")":o,explanatoryText=a?"&nbsp;&nbsp;&nbsp;("+e+" not specified in orginal curriculum) ":"";var i="";if(n){var r=c[t].children[0],d=(c[r],i=c[r].me.text,t+"id");return"<tr><td width='200px' ><button data-a1code="+t+" class='btn btn-outline-primary openmodalbutt'   style='margin-top:5px width:250px; top:-2px' >"+o+"...</button></button></td><td width='115px' id='svgbarcell_"+t+"' >"+u(o)+"</td><td width='1000px' style='padding-left:20px'><div class='rounddiv' style='display:block; margin-top:1px' id=\""+d+'" >'+i+"</div></td></tr>"}return"<br><input class='btn btn-outline-primary vclickablebutt' data-a1code="+t+" type='button' style='margin-top:3px' value='"+o+"' />"+explanatoryText}(t,h)}))}h&&(g+="</table>"),document.getElementById("tv_mainContent")&&(document.getElementById("tv_mainContent").innerHTML=g,$(".hclickablebutt,.vclickablebutt").click((function(e){e.stopImmediatePropagation(),s(this.dataset.a1code)})),$(".openmodalbutt").click((function(e){e.stopImmediatePropagation(),function(e){$("#completenessModal").modal();var n=document.getElementById("modaltitle"),a=document.getElementById("elabdesc"),l=document.getElementById("stddesc"),s=document.getElementById("a1code");let m=document.getElementById("copyrightdesc");var p=c[e].me.text,g=c[e].children[0],b=c[g],h=c[g].me.text,v=c[b.children[0]].me.text;n.innerHTML="Outcome : "+p,l.innerHTML=h,s.innerHTML=e,m.innerHTML=" <p> The Victorian Curriculum F-10 content elements are<strong>&nbsp;&copy; </strong>VCAA, licensed <a target='_blank' href='https://creativecommons.org/licenses/by-nc-sa/3.0/au/legalcode'>CC-BY-NC-SA</a><strong>. </strong>The <a target='_blank' href='https://victoriancurriculum.vcaa.vic.edu.au/copyright-statement'>Victorian Curriculum&nbsp; F-10</a> and related content can be accessed directly at the <a target='_blank' href='http://www.vcaa.vic.edu.au/'>VCAA website</a>.</p>";var f=v.split(":^:");t=f.length,v="";let y,x="";r[p]&&r[p].e&&(y=r[p].e),f.forEach((function(e,n){y&&(x=Number(y[n])?" checked ":""),v+="<input type='checkbox' class='cb' id='cb"+n+"' data-this="+this+" data-ncb='"+t+"' "+x+" >"+e+"<br>"})),v+="",a.innerHTML=v,$(".cb").click((function(e){e.stopImmediatePropagation(),function(e){cb=$("#"+e);let t=Number(cb.prop("dataset").ncb),n=0;for(var o=0;o<t;o++)$("#cb"+o).prop("checked")&&n++;let a=Math.round(100*n/t);document.getElementById("sliderRange").value=a,document.getElementById("coverage").innerHTML=a+"%"}($(this).attr("id"))}));let _=document.getElementById("sliderRange"),I=document.getElementById("coverage");r[p]?(sv=r[p].v?r[p].t:r[p],_.value=Number(sv)):_.value=0,I.innerHTML=_.value+"%",$("#savebtn").click((function(e){e.stopImmediatePropagation(),function(){var e=document.getElementById("a1code").innerHTML,n=document.getElementById("sliderRange").value,a=(c[e],c[e].me.text);let l="";for(var s=0;s<t;s++)$("#cb"+s).prop("checked")?l+="1":l+="0";console.log("storing "+n),r[a]={t:Number(n),e:l,v:"a"},$("#completenessModal").modal("hide"),function(e){$.getJSON(d+"?callback=?",{method:"microCoverage",progid:o,auditdetail:JSON.stringify(e),uid:i},(function(e){var t;t=e,console.log(t)}))}(r),document.getElementById("svgbarcell_"+e).innerHTML=u(a)}()}))}(this.dataset.a1code)})),$('[data-toggle="tooltip"]').tooltip("dispose"))}function u(e){var t;return(t=r[e]&&r[e].v?Number(r[e].t)>0?Number(r[e].t):0:Number(r[e])>0?Number(r[e]):0)>0?"<svg width='100' height='10'><rect  width='100' height='10' style='fill:rgb(255,255,255);stroke-width:3;stroke:rgb(0,0,0)' /><rect  width='"+t+"' height='10' style='fill:rgb(0,123,255);stroke-width:3;stroke:rgb(0,0,0)' /></svg> ":""}function m(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function p(){return console.log("standalone",!$("#mainBody").length),!$("#mainBody").length}window.__pz__&&(p()&&(console.log("oh no - shouldn't execute this \n \n !! \n !!"),n=m("a1code"),auditIndex=m("auditIndex"),a=m("_infoSheet"),m("rootText"),m("_auditPage"),i=m("uid")),p()||(n=l.a1code,o=l.progid,a=l._infoSheet,console.log("defining _infoSheet",a),l.rootText,l._auditPage,i=l.uid),document.getElementById("tv_mainContent")&&(document.getElementById("tv_mainContent").innerHTML="<span style=' position:relative; left:150px; top:150px'><h3> Loading Mapping Tool ..</h3></span>",console.log("SCRIPT_URL",d),$.getJSON(d+"?callback=?",{method:"deserialize",_infoSheet:a,progid:o,uid:i},(function(e){var t;c=(t=e).v1,r=t.v2,s(n)}))))})();